# Documentación y Especificaciones del Proyecto DoSys

**Versión 1.3**
**Fecha: 08 de Julio de 2025**

---

### 1. Resumen Ejecutivo

**DoSys (Donation System)** es una plataforma tecnológica integral diseñada para centralizar, optimizar y fomentar la cultura de donación altruista en México. El proyecto se enfoca en tres áreas críticas de salud: **sangre, medicamentos y dispositivos de asistencia**. Su misión es crear un ecosistema digital transparente y eficiente que conecte a donantes, beneficiarios, organizaciones de salud y empresas socialmente responsables, asegurando que la ayuda llegue a quienes más la necesitan de manera rápida y segura.

---

### 2. Ecosistema de Usuarios y Roles

La plataforma está diseñada para cuatro perfiles de usuario principales, cada uno con un panel de control y funcionalidades específicas: **Persona (Donante/Donatario)**, **Empresa Aliada**, **Organización** y **Administrador de DoSys**.

---

### 3. Mapa de Vistas y Flujos de la Aplicación

Esta sección detalla la estructura de archivos y el propósito de cada vista dentro de la plataforma DoSys.

#### 3.1. Páginas Públicas Principales
Vistas accesibles para cualquier visitante del sitio.

- **index.html:** Página de inicio y presentación principal del proyecto.
- **avisos.html:** Galería pública que muestra las solicitudes de donación activas y urgentes.
- **mapa.php:** Mapa interactivo con geolocalización de centros de donación, hospitales y bancos de sangre.
- **estadisticas.html:** Página con datos de impacto, gráficas y logros del proyecto.
- **mantenimiento.html:** Página genérica para secciones en construcción.

#### 3.2. Proceso de Registro y Autenticación
Flujo para la creación de cuentas y el inicio de sesión.

- **r_seleccionar_tipo.html:** Página inicial del flujo donde el usuario elige si se registra como Persona, Empresa u Organización.
- **r_persona.html:** Formulario de registro para usuarios individuales (donantes/donatarios).
- **r_empresa.html:** Formulario de registro para empresas aliadas.
- **r_organizacion.html:** Formulario de registro para ONGs, hospitales, etc.
- **login.php:** Formulario para que los usuarios existentes inicien sesión.
- **logout.php:** Script para cerrar la sesión activa del usuario.
- **register_process.php (Backend):** Script que procesa los datos de los formularios de registro, los valida y los guarda en la base de datos.
- **login_process.php (Backend):** Script que valida las credenciales del usuario contra la base de datos y gestiona el inicio de sesión.

#### 3.3. Páginas de Contenido (Sección "Conócenos")
- **C-Sobre_Nosotros.html:** Detalla la historia, misión y visión de DoSys.
- **C-Nuestro_Equipo.html:** Presenta a los miembros del equipo fundador y asesores.
- **C-Logros.html:** Muestra los hitos, premios y reconocimientos del proyecto.
- **R-Empresas_Aliadas.php:** Directorio público de las empresas que colaboran con DoSys.

#### 3.4. Panel de Usuario: Persona
Vistas a las que accede un usuario de tipo "Persona" tras iniciar sesión.

- **persona_dashboard.php:** Página principal del panel. Muestra un resumen de actividad (solicitudes, donaciones) y acciones rápidas.
- **persona_perfil.php:** Para ver y editar la información personal.
- **persona_beneficios.php:** Catálogo de beneficios y recompensas obtenidas por sus donaciones.
- **persona_configuracion.php:** Para cambiar contraseña y otros ajustes de la cuenta.
- **crear_aviso_persona.php:** Formulario para que el usuario cree una nueva solicitud de donación.

#### 3.5. Panel de Usuario: Empresa
Vistas para la gestión de la cuenta de una Empresa Aliada. Incluye múltiples roles internos.

##### **Rol: Administrador de Empresa (Acceso Total)**
- **empresa_dashboard.php:** Resumen de impacto, listado de usuarios y accesos directos.
- **empresa_perfil.php:** Para editar los datos generales de la empresa.
- **empresa_beneficios.php:** Para crear, ver, editar y eliminar los beneficios que la empresa ofrece.
- **empresa_usuarios.php:** Tabla para gestionar a los sub-usuarios (empleados) de la empresa.
- **empresa_crear_usuario.php:** Formulario para añadir nuevos sub-usuarios (Creador o Visualizador).
- **empresa_reportes.php:** Estadísticas detalladas sobre el uso de los beneficios.
- **empresa_configuracion.php:** Opciones de seguridad de la cuenta de administrador.

##### **Rol: Creador de Promociones (Sub-usuario)**
- **Acceso a:** `empresa_dashboard.php`, `empresa_beneficios.php`, `empresa_reportes.php`, `empresa_configuracion.php`.
- *Acceso denegado a la edición del perfil de la empresa y a la gestión de usuarios.*

##### **Rol: Visualizador (Sub-usuario)**
- **Acceso a:** `empresa_dashboard.php` (vista simple), `empresa_beneficios.php` (solo lectura), `empresa_configuracion.php`.
- *Acceso denegado a la creación o edición de contenido.*

#### 3.6. Panel de Usuario: Organización
Vistas para la gestión de una Organización (ONG, Hospital, etc.). Incluye múltiples roles internos.

##### **Rol: Administrador de Organización (Acceso Total)**
- **organizacion_dashboard.php:** Página de inicio con contadores de "Solicitudes por Validar" y "Donantes por Aprobar". Acceso a todas las funcionalidades.
- **organizacion_solicitudes.php:** Centro de operaciones para gestionar peticiones de ayuda, con pestañas (Por Validar, Activas, Historial).
- **organizacion_donantes.php:** Para administrar a los donantes comprometidos, con pestañas (Pendientes, Aprobados, Completados).
- **organizacion_perfil.php:** Para editar la información pública de la organización (CLUNI, misión, etc.).
- **organizacion_usuarios.php:** Tabla para gestionar las cuentas de su equipo (voluntarios o personal).
- **organizacion_crear_usuario.php:** Formulario para registrar un nuevo miembro del equipo (Gestor de Casos o Visualizador).
- **organizacion_configuracion.php:** Para la configuración de la cuenta, incluyendo la "Zona de Peligro".

##### **Rol: Gestor de Casos (Sub-usuario)**
- **Acceso a:**
    - `organizacion_dashboard.php`: Verá los contadores y podrá acceder a las secciones de gestión.
    - `organizacion_solicitudes.php`: Acceso completo para validar, activar y dar seguimiento a las solicitudes.
    - `organizacion_donantes.php`: Acceso completo para aprobar y gestionar a los donantes.
    - `organizacion_configuracion.php`: Para gestionar su propia contraseña.
- ***Acceso Denegado a:*** `organizacion_perfil.php` (no puede cambiar datos de la ONG) y `organizacion_usuarios.php` (no puede gestionar a otros usuarios).

##### **Rol: Visualizador (Sub-usuario)**
- **Acceso a:**
    - `organizacion_dashboard.php`: Verá los contadores pero sin acceso a botones de gestión.
    - `organizacion_solicitudes.php`: Modo de solo lectura.
    - `organizacion_donantes.php`: Modo de solo lectura.
    - `organizacion_configuracion.php`: Para gestionar su propia contraseña.
- ***Acceso Denegado a:*** Creación o edición de cualquier tipo de contenido.

---

### 4. Arquitectura y Tecnologías

* **Frontend:** HTML5, CSS3, JavaScript, Bootstrap 5.
* **Backend:** PHP.
* **Base de Datos:** MySQL.
* **APIs Externas:** Google Maps API.
